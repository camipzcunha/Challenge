const quizes = {
    //perguntas quizFormulaE
    quizFormulaE : [
        {
            pergunta: "Qual é uma característica interessante dos motores dos carros da Fórmula E?",
            respostas: [
                { texto: "Eles consomem muita energia.", correto: false },
                { texto: "Eles entregam todo o torque instantaneamente.", correto: true },
                { texto: "Eles são movidos a gasolina.", correto: false },
                { texto: "Eles não têm aceleração rápida.", correto: false }
            ]
        },
        {
            pergunta: "O que ajuda os carros da Fórmula E a cortar o ar como uma flecha?",
            respostas: [
                { texto: "Seus motores a combustão.", correto: false },
                { texto: "Seus pneus grandes.", correto: false },
                { texto: "Seu design elegante e aerodinâmico.", correto: true },
                { texto: "Seu peso leve.", correto: false }
            ]
        },
        {
            pergunta: "Qual é a velocidade média que os carros da Fórmula E podem atingir?",
            respostas: [
                { texto: "100 km/h", correto: false },
                { texto: "150 km/h", correto: false },
                { texto: "200 km/h", correto: true },
                { texto: "250 km/h", correto: false }
            ]
        },
        {
            pergunta: "Qual dos seguintes fabricantes de automóveis está participando ativamente na Fórmula E?",
            respostas: [
                { texto: "Ferrari", correto: false },
                { texto: "Mercedes-Benz", correto: true },
                { texto: "Toyota", correto: false },
                { texto: "Honda", correto: false }
            ]
        },
        {
            pergunta: "O que é utilizado nos pneus da Fórmula E para torná-los mais sustentáveis?",
            respostas: [
                { texto: "Plástico reciclado", correto: false },
                { texto: "Óleo de laranja e borracha natural", correto: true },
                { texto: "Algodão", correto: false },
                { texto: "Fibra de vidro", correto: false }
            ]
        },
        {
            pergunta: "Os E-Prix são corridas emocionantes da Fórmula E que acontecem em diferentes cidades ao redor do mundo. Verdadeiro ou Falso?",
            respostas: [
                { texto: "Verdadeiro", correto: true },
                { texto: "Falso", correto: false }
            ]
        },
        {
            pergunta: "Os carros da Fórmula E são projetados para serem pesados e resistentes. Verdadeiro ou Falso?",
            respostas: [
                { texto: "Verdadeiro", correto: false },
                { texto: "Falso", correto: true }
            ]
        },
        {
            pergunta: "As corridas da Fórmula E são apenas sobre velocidade e não têm impacto social significativo. Verdadeiro ou Falso?",
            respostas: [
                { texto: "Verdadeiro", correto: false },
                { texto: "Falso", correto: true }
            ]
        },
        {
            pergunta: "Durante as corridas noturnas da Fórmula E, a visibilidade é reduzida, exigindo que os pilotos ajustem suas técnicas de condução. Verdadeiro ou Falso?",
            respostas: [
                { texto: "Verdadeiro", correto: true },
                { texto: "Falso", correto: false }
            ]
        },
        {
            pergunta: "As corridas da Fórmula E nunca enfrentam desafios climáticos, pois todas acontecem em condições ideais. Verdadeiro ou Falso?",
            respostas: [
                { texto: "Verdadeiro", correto: false },
                { texto: "Falso", correto: true }
            ]
        },
        {
            pergunta: "Em quais cidades mencionadas no texto os E-Prix acontecem, proporcionando uma experiência única tanto para pilotos quanto para fãs?",
            respostas: [
                { texto: "Marrakesh, Berlim, Paris e Grécia.", correto: false },
                { texto: "Nova York, Rio de Janeiro, Sydney e Tóquio.", correto: false },
                { texto: "Nova York, Marrakesh, Berlim e Roma.", correto: true },
                { texto: "Noruega, Paris, Berlim e Roma.", correto: false }
            ]
        }
    ],

    //perguntas quizCuriosidades
    quizCuriosidades : [
        {
            pergunta: "Qual é uma característica única dos carros da Fórmula E em relação à poluição sonora?",
            respostas: [
                { texto: "Eles emitem um rugido alto.", correto: false },
                { texto: "Eles emitem um som parecido com o de um carro convencional.", correto: false },
                { texto: "Eles emitem um som suave, mas ainda audível.", correto: false },
                { texto: "Eles deslizam suavemente sem emitir poluição sonora.", correto: true }
            ]
        },
        {
            pergunta: "Como os pilotos da Fórmula E lidam com a troca de carros durante a corrida?",
            respostas: [
                { texto: "Eles não trocam de carro.", correto: false },
                { texto: "Eles trocam de carro no meio da prova.", correto: true },
                { texto: "Eles trocam de carro apenas no final da corrida.", correto: false },
                { texto: "Eles trocam de carro a cada volta.", correto: false }
            ]
        },
        {
            pergunta: "Onde as pistas da Fórmula E geralmente são localizadas?",
            respostas: [
                { texto: "No meio de desertos.", correto: false },
                { texto: "Em locais urbanos icônicos ao redor do mundo.", correto: true },
                { texto: "Em circuitos fechados apenas para corridas de Fórmula E.", correto: false },
                { texto: "Em áreas rurais distantes das cidades.", correto: false }
            ]
        },
        {
            pergunta: "O que a Fórmula E representa além das corridas?",
            respostas: [
                { texto: "Apenas entretenimento esportivo.", correto: false },
                { texto: "Um exemplo de como os carros elétricos são lentos e pouco eficientes.", correto: false },
                { texto: "Uma forma de entretenimento para entusiastas de carros.", correto: false },
                { texto: "Um campo de testes para a inovação e desenvolvimento de tecnologias automotivas sustentáveis.", correto: true },
            ]
        },
        {
            pergunta: "Como a Fórmula E envolve os fãs usando tecnologias de realidade virtual e aumentada?",
            respostas: [
                { texto: "Permitindo que eles se coloquem virtualmente no cockpit dos carros.", correto: true },
                { texto: "Permitindo que eles assistam às corridas em uma tela grande.", correto: false },
                { texto: "Não há envolvimento dos fãs através dessas tecnologias.", correto: false },
                { texto: "Transmitindo as corridas em 3D para TVs.", correto: false }
            ]
        },
        {
            pergunta: "O que é o 'FanBoost' na Fórmula E?",
            respostas: [
                { texto: "Um sistema de climatização para os fãs durante as corridas.", correto: false },
                { texto: "Um fenômeno que dá aos fãs o poder de influenciar diretamente o resultado das corridas.", correto: true },
                { texto: "Um dispositivo de segurança para os pilotos durante as corridas.", correto: false },
                { texto: "Um sistema para aumentar a potência dos motores automaticamente.", correto: false }
            ]
        },
        {
            pergunta: "Qual é a função dos sistemas de recuperação de energia cinética nos carros da Fórmula E?",
            respostas: [
                { texto: "Converter energia elétrica em energia cinética.", correto: false },
                { texto: "Aumentar a potência dos motores durante as corridas.", correto: false },
                { texto: "Converter energia cinética em energia elétrica.", correto: true },
                { texto: "Armazenar energia para uso posterior.", correto: false }
            ]
        },
        {
            pergunta: "Como a Fórmula E demonstra seu compromisso com a sustentabilidade além das corridas?",
            respostas: [
                { texto: "Minimizando as emissões de carbono durante os eventos.", correto: true },
                { texto: "Aumentando o uso de plástico de uso único.", correto: false },
                { texto: "Ignorando práticas ecológicas em suas operações.", correto: false },
                { texto: "Usando apenas carros elétricos de segunda mão.", correto: false }
            ]
        },
        {
            pergunta: "O que os carros da Fórmula E são em termos de tecnologia?",
            respostas: [
                { texto: "Apenas veículos de corrida.", correto: false },
                { texto: "Laboratórios ambulantes de tecnologia.", correto: true },
                { texto: "Veículos convencionais sem avanços tecnológicos.", correto: false },
                { texto: "Carros com tecnologia obsoleta.", correto: false }
            ]
        },
        {
            pergunta: "Qual é o principal objetivo do texto sobre a Fórmula E?",
            respostas: [
                { texto: "Informar sobre os eventos da Fórmula E.", correto: false },
                { texto: "Criticar as práticas da Fórmula E em relação ao meio ambiente.", correto: false },
                { texto: "Promover outras categorias de corrida.", correto: false },
                { texto: "Destacar os aspectos únicos e inovadores da Fórmula E.", correto: true },
            ]
        },
        {
            pergunta: "Como as paradas nos boxes na Fórmula E diferem de outras categorias de corrida?",
            respostas: [
                { texto: "Elas não existem na Fórmula E.", correto: false },
                { texto: "Os pilotos trocam de carro durante as paradas nos boxes.", correto: true },
                { texto: "Os pilotos apenas ajustam a pressão dos pneus durante as paradas nos boxes.", correto: false },
                { texto: "Os pilotos mudam de pneus durante as paradas nos boxes.", correto: false }
            ]
        }
    ],

    //perguntas quizCorridas
    quizCorridas : [
        {
            pergunta: "Onde acontecem as corridas da Fórmula E?",
            respostas: [
                { texto: "Em circuitos de corrida tradicionais", correto: false },
                { texto: "Em estradas rurais", correto: false },
                { texto: "Em circuitos urbanos", correto: true },
                { texto: "Em desertos remotos", correto: false }
            ]
        },
        {
            pergunta: "Como são os motores da Fórmula E em comparação com os motores de carros a combustão?",
            respostas: [
                { texto: "Produzem um rugido alto", correto: false },
                { texto: "Emitir fumaça", correto: false },
                { texto: "Silenciosos, com um zumbido suave", correto: true },
                { texto: "Ineficientes", correto: false }
            ]
        },
        {
            pergunta: "O que os pilotos da Fórmula E precisam monitorar de perto durante as corridas?",
            respostas: [
                { texto: "Pressão dos pneus", correto: false },
                { texto: "Temperatura do motor", correto: false },
                { texto: "Uso de energia de suas baterias", correto: true },
                { texto: "Consumo de combustível", correto: false }
            ]
        },
        {
            pergunta: "Como é determinado o término das corridas da Fórmula E?",
            respostas: [
                { texto: "Por um número fixo de voltas", correto: false },
                { texto: "Quando o último piloto cruza a linha de chegada", correto: false },
                { texto: "Por uma duração fixa de tempo", correto: true },
                { texto: "Quando o primeiro piloto completa 100 km", correto: false }
            ]
        },
        {
            pergunta: "O que os pilotos podem ativar para obter um impulso extra de potência durante a corrida?",
            respostas: [
                { texto: "Turbo", correto: false },
                { texto: "Nitro", correto: false },
                { texto: "Modo de Ataque", correto: true },
                { texto: "Modo de Defesa", correto: false }
            ]
        },
        {
            pergunta: "Como os fãs podem influenciar diretamente o resultado das corridas na Fórmula E?",
            respostas: [
                { texto: "Comprando bilhetes para o evento", correto: false },
                { texto: "Através de votação no FanBoost", correto: true },
                { texto: "Compartilhando postagens nas redes sociais", correto: false },
                { texto: "Comprando mercadorias da equipe", correto: false }
            ]
        },
        {
            pergunta: "Onde geralmente ocorrem as corridas da Fórmula E?",
            respostas: [
                { texto: "Em circuitos permanentes", correto: false },
                { texto: "Em pistas de terra batida", correto: false },
                { texto: "Em circuitos temporários montados em ruas urbanas", correto: true },
                { texto: "Em pistas de gelo", correto: false }
            ]
        },
        {
            pergunta: "Que tecnologia é introduzida para proteger os pilotos na Fórmula E?",
            respostas: [
                { texto: "Airbags", correto: false },
                { texto: "Sistemas de tração nas quatro rodas", correto: false },
                { texto: "Halo", correto: true },
                { texto: "Pneus reforçados", correto: false }
            ]
        },
        {
            pergunta: "Como são os pneus usados na Fórmula E em comparação com outras categorias de automobilismo?",
            respostas: [
                { texto: "Mais largos", correto: false },
                { texto: "Mais estreitos", correto: true },
                { texto: "Semelhantes em tamanho", correto: false },
                { texto: "Feitos de materiais diferentes", correto: false }
            ]
        },
        {
            pergunta: "Além de gerenciar o uso de energia, como os pilotos da Fórmula E podem recuperar energia durante a corrida?",
            respostas: [
                { texto: "Através de postos de recarga", correto: false },
                { texto: "Por meio de reboque por outro veículo", correto: false },
                { texto: "Usando painéis solares no carro", correto: false },
                { texto: "Através de zonas de regeneração de energia", correto: true }
            ]
        },
        {
            pergunta: "Por que os carros da Fórmula E são conhecidos?",
            respostas: [
                { texto: "Pela velocidade máxima", correto: false },
                { texto: "Pela autonomia da bateria", correto: false },
                { texto: "Pela rápida aceleração", correto: true },
                { texto: "Pela capacidade de carga rápida", correto: false }
            ]
        }
    ],

    //perguntas quizCorredores
    quizCorredores : [
        {
            pergunta: "Para qual equipe Felix Rosenqvist pilotou na Fórmula E?",
            respostas: [
                { texto: "Audi Sport ABT", correto: false },
                { texto: "DS Techeetah", correto: false },
                { texto: "Mahindra Racing", correto: true },
                { texto: "Jaguar Racing", correto: false }
            ]
        },
        {
            pergunta: "Quando e onde ocorreu uma das vitórias mais memoráveis de Felix Rosenqvist?",
            respostas: [
                { texto: "15 de agosto de 2018, em Paris", correto: false },
                { texto: "10 de junho de 2017, em Berlim", correto: true },
                { texto: "23 de setembro de 2016, em Nova Iorque", correto: false },
                { texto: "5 de dezembro de 2019, em Londres", correto: false }
            ]
        },
        {
            pergunta: "Quem conquistou o título da Fórmula E duas vezes?",
            respostas: [
                { texto: "Lucas di Grassi", correto: false },
                { texto: "Sébastien Buemi", correto: false },
                { texto: "Jean-Éric Vergne", correto: true },
                { texto: "Felix Rosenqvist", correto: false }
            ]
        },
        {
            pergunta: "Qual ex-piloto de Fórmula 1 também é campeão mundial de endurance e competiu na Fórmula E?",
            respostas: [
                { texto: "Jean-Éric Vergne", correto: false },
                { texto: "Sébastien Buemi", correto: true },
                { texto: "Lucas di Grassi", correto: false },
                { texto: "Nelson Piquet Jr.", correto: false }
            ]
        },
        {
            pergunta: "Quem venceu a temporada 2015-16 da Fórmula E?",
            respostas: [
                { texto: "Jean-Éric Vergne", correto: false },
                { texto: "Lucas di Grassi", correto: false },
                { texto: "Sébastien Buemi", correto: true },
                { texto: "Sam Bird", correto: false }
            ]
        },
        {
            pergunta: "Que hobby Sébastien Buemi utiliza para relaxar antes das corridas?",
            respostas: [
                { texto: "Pintura", correto: false },
                { texto: "Tocar violão", correto: true },
                { texto: "Cozinhar", correto: false },
                { texto: "Ler livros", correto: false }
            ]
        },
        {
            pergunta: "A que idade Felipe Massa começou sua carreira no kart?",
            respostas: [
                { texto: "Seis anos", correto: false },
                { texto: "Oito anos", correto: true },
                { texto: "Dez anos", correto: false },
                { texto: "Doze anos", correto: false }
            ]
        },
        {
            pergunta: "Qual foi a conquista de Nelson Piquet Jr. na Fórmula E?",
            respostas: [
                { texto: "Campeão da temporada 2015-16", correto: false },
                { texto: "Vice-campeão da temporada 2016-17", correto: false },
                { texto: "Campeão da temporada inaugural", correto: true },
                { texto: "Terceiro colocado na temporada 2018-19", correto: false }
            ]
        },
        {
            pergunta: "Qual piloto representa Portugal na Fórmula E?",
            respostas: [
                { texto: "Nelson Piquet Jr.", correto: false },
                { texto: "Sam Bird", correto: false },
                { texto: "António Félix da Costa", correto: true },
                { texto: "Lucas di Grassi", correto: false }
            ]
        },
        {
            pergunta: "Em qual temporada António Félix da Costa conquistou o título da Fórmula E?",
            respostas: [
                { texto: "2014-15", correto: false },
                { texto: "2016-17", correto: false },
                { texto: "2019-20", correto: true },
                { texto: "2018-19", correto: false }
            ]
        },
        {
            pergunta: "Quem foi o primeiro campeão da Fórmula E?",
            respostas: [
                { texto: "Sam Bird", correto: false },
                { texto: "Sébastien Buemi", correto: false },
                { texto: "Lucas di Grassi", correto: false },
                { texto: "Nelson Piquet Jr.", correto: true }
            ]
        },
        {
            pergunta: "Qual é a nacionalidade de Nelson Piquet Jr.?",
            respostas: [
                { texto: "Brasileiro", correto: true },
                { texto: "Argentino", correto: false },
                { texto: "Espanhol", correto: false },
                { texto: "Italiano", correto: false }
            ]
        },
        {
            pergunta: "Qual piloto britânico é conhecido por sua consistência e velocidade na Fórmula E?",
            respostas: [
                { texto: "António Félix da Costa", correto: false },
                { texto: "Jean-Éric Vergne", correto: false },
                { texto: "Sam Bird", correto: true },
                { texto: "Alexander Sims", correto: false }
            ]
        }
    ]
}

let quiz = [document.getElementById('quizCuriosidades'), document.getElementById('quizFormulaE'), document.getElementById('quizCorridas'), document.getElementById('quizCorredores')];
quiz = quiz.filter(item => item !== null);
quiz = String(quiz[0].id) 
console.log(quiz)

const questoes = quizes[quiz]
const elementoPergunta = document.getElementById('pergunta');
const elementoBotoesResposta = document.getElementById('botoes-resposta');
const botaoProxima = document.getElementById('btn-proxima');
const caixaPontuacao = document.getElementById('caixa-pontuacao');
const elementoPontuacao = document.getElementById('pontuacao');
const elementoTemporizador = document.getElementById('temporizador');

let indicePerguntaAtual = 0;
let pontuacao = 0;
let tempoRestante = 60;
let intervaloTemporizador;

function iniciarQuiz() {
    indicePerguntaAtual = 0;
    pontuacao = 0;
    tempoRestante = 60;
    botaoProxima.classList.add('escondido');
    caixaPontuacao.classList.add('escondido');
    mostrarPergunta(questoes[indicePerguntaAtual]);
    iniciarTemporizador();
}

function mostrarPergunta(pergunta) {
    resetarEstado();
    elementoPergunta.innerText = pergunta.pergunta;
    pergunta.respostas.forEach(resposta => {
        const botao = document.createElement('button');
        botao.innerText = resposta.texto;
        botao.classList.add('btn');
        botao.addEventListener('click', () => selecionarResposta(botao, resposta.correto));
        elementoBotoesResposta.appendChild(botao);
    });
}

function resetarEstado() {
    limparClasseStatus();
    while (elementoBotoesResposta.firstChild) {
        elementoBotoesResposta.removeChild(elementoBotoesResposta.firstChild);
    }
}

function selecionarResposta(botao, correto) {
    if (correto) {
        botao.classList.add('correto');
        pontuacao++;
    } else {
        botao.classList.add('incorreto');
    }
    Array.from(elementoBotoesResposta.children).forEach(btn => {
        btn.disabled = true;
        if (questoes[indicePerguntaAtual].respostas.find(a => a.texto === btn.innerText).correto) {
            btn.classList.add('correto');
        }
    });
    botaoProxima.classList.remove('escondido');
    clearInterval(intervaloTemporizador);
    botaoProxima.addEventListener('click', proximaPergunta);
}

function proximaPergunta() {
    indicePerguntaAtual++;
    if (indicePerguntaAtual < questoes.length) {
        mostrarPergunta(questoes[indicePerguntaAtual]);
        iniciarTemporizador();
        botaoProxima.classList.add('escondido');
        botaoProxima.removeEventListener('click', proximaPergunta);
    } else {
        mostrarPontuacao();
    }
}

function limparClasseStatus() {
    botaoProxima.classList.add('escondido');
    elementoTemporizador.innerText = `Tempo: ${tempoRestante}`;
}

function mostrarPontuacao() {
    caixaPontuacao.classList.remove('escondido');
    elementoPontuacao.innerText = `Você acertou ${pontuacao} de ${questoes.length} perguntas!`;
}

function iniciarTemporizador() {
    tempoRestante = 60;
    elementoTemporizador.innerText = `Tempo: ${tempoRestante}`;
    intervaloTemporizador = setInterval(() => {
        tempoRestante--;
        elementoTemporizador.innerText = `Tempo: ${tempoRestante}`;
        if (tempoRestante <= 0) {
            clearInterval(intervaloTemporizador);
            botaoProxima.classList.remove('escondido');
            botaoProxima.addEventListener('click', proximaPergunta);
            Array.from(elementoBotoesResposta.children).forEach(btn => {
                btn.disabled = true;
                if (questoes[indicePerguntaAtual].respostas.find(a => a.texto === btn.innerText).correto) {
                    btn.classList.add('correto');
                }
            });
        }
    }, 1000);
}

document.addEventListener('DOMContentLoaded', iniciarQuiz);